<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DDS_Bridge: DDS_Bridge</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DDS_Bridge
   </div>
   <div id="projectbrief">ä¸€ä¸ªåŸºäºFast DDSçš„DDSæ¡¥æ¥åº“</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- åˆ¶ä½œè€… Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','æœç´¢',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">è½½å…¥ä¸­...</div>
<div class="SRStatus" id="Searching">æœç´¢ä¸­...</div>
<div class="SRStatus" id="NoMatches">æœªæ‰¾åˆ°</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DDS_Bridge </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
ğŸš€ DDS_Bridge â€”â€” åƒ ROS ä¸€æ ·ç”¨ Fast-DDS</h1>
<p>ä¸€ä¸ª <b>æç®€ã€é›¶ä¾µå…¥ã€å¯æ‰©å±•</b> çš„ç±»ROS2 Fast-DDS é€šä¿¡æ¡†æ¶ï¼Œè®©ä½ ï¼š <br  />
</p>
<ul>
<li>âœ¨ <b>ä¸€æ¡æŒ‡ä»¤</b> å‘å¸ƒ / è®¢é˜…ä»»æ„ IDL å®šä¹‰çš„æ•°æ®ç»“æ„ <br  />
</li>
<li>ğŸ› ï¸ <b>æ— éœ€æ‰‹åŠ¨</b> ç¼–å†™åºåˆ—åŒ–ä»£ç ã€PubSubTypeã€CMake è§„åˆ™ <br  />
</li>
<li>ğŸ”„ <b>ç›´æ¥æ›¿æ¢</b> ROS 2 çš„ <span class="tt">create_publisher / create_subscription</span> è¯­æ³•</li>
<li>ğŸ“¦ <b>å†…ç½®å¸¸ç”¨ç±» ROS Topic</b> <br  />
 å¼€ç®±å³ç”¨çš„ <span class="tt">std_msgs::String</span>ã€<span class="tt">geometry_msgs::Pose</span>ã€<span class="tt">sensor_msgs::Image</span> ç­‰ï¼Œé›¶é…ç½®å³å¯æ”¶å‘ã€‚</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
1. å¿«é€Ÿä¸Šæ‰‹</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
1.1 å®‰è£…ä¾èµ–</h3>
<p><b>Linux:</b></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
ğŸ§ åœ¨ Linux ä¸Šå®‰è£… eProsima Fast DDSï¼ˆå®˜æ–¹äºŒè¿›åˆ¶ç‰ˆï¼‰</h2>
<blockquote class="doxtable">
<p>ä»…éœ€ 3 æ­¥ï¼Œ10 åˆ†é’Ÿå®Œæˆï¼ </p>
</blockquote>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
1ï¸âƒ£ ä¸‹è½½å¹¶è§£å‹</h3>
<p>è¿›å…¥ <a href="https://www.eprosima.com/index.php/downloads-all">eProsima å®˜ç½‘ Downloads</a> â†’ é€‰æ‹© <b>Fast DDS Linux æœ€æ–°ç‰ˆ</b> â†’ è§£å‹åˆ°ä»»æ„ç›®å½•ï¼š</p>
<div class="fragment"><div class="line">tar -xf fastdds-&lt;version&gt;-linux.tar.gz</div>
<div class="line">cd fastdds-&lt;version&gt;-linux</div>
</div><!-- fragment --><hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
2ï¸âƒ£ ä¸€é”®å®‰è£…</h3>
<p>è¿è¡Œå®˜æ–¹è„šæœ¬å³å¯ä¸€æ¬¡æ€§è£…å¥½ <b>Fast-DDS + å…¨éƒ¨ä¾èµ–</b>(è¯·ç¡®ä¿ç½‘ç»œç•…é€š)ï¼š</p>
<div class="fragment"><div class="line">sudo ./install.sh</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>Ubuntu20.04 ç”¨æˆ·å¯èƒ½éœ€è¦æ‰‹åŠ¨ç§»é™¤å®‰è£…è„šæœ¬ä¸­çš„python3-xmlschemaä¾èµ– </p>
</blockquote>
<p><b>Windows:</b></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
ğŸªŸ Windows å®‰è£… Fast-DDSï¼ˆå®˜æ–¹äºŒè¿›åˆ¶ç‰ˆï¼‰</h1>
<p>2 åˆ†é’Ÿé€Ÿé€šæŒ‡å—ï¼Œå« VS é…ç½®ã€ç¯å¢ƒå˜é‡ä¸ CMake é“¾æ¥ã€‚</p>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
1ï¸âƒ£ å‰ç½®æ¡ä»¶</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">å¿…é¡»  </th><th class="markdownTableHeadNone">å¦‚ä½•å®‰è£…  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Visual Studio 2019/2022</b>  </td><td class="markdownTableBodyNone">å‹¾é€‰ â€œDesktop development with C++â€  </td></tr>
</table>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
2ï¸âƒ£ ä¸€é”®å®‰è£…</h3>
<ol type="1">
<li>ä¸‹è½½ <b>Fast-DDS Windows Installer</b> <br  />
 <a href="https://www.eprosima.com/downloads">https://www.eprosima.com/downloads</a></li>
<li>åŒå‡»å®‰è£… â†’ é€‰æ‹© VS ç‰ˆæœ¬ &amp; æ¶æ„ â†’ å‹¾é€‰ <b>â€œAdd to PATHâ€</b> <br  />
</li>
<li>å®Œæˆï¼ç»„ä»¶ä¸€è§ˆï¼š</li>
</ol>
<p>å®‰è£…åç»„ä»¶ä¸€è§ˆï¼š</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">åŒ…å  </th><th class="markdownTableHeadNone">ä½œç”¨  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">foonathan_memory_vendor</span>  </td><td class="markdownTableBodyNone">STL å…¼å®¹å†…å­˜åˆ†é…å™¨  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">fastcdr</span>  </td><td class="markdownTableBodyNone">CDR åºåˆ—åŒ–åº“  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">fastdds</span>  </td><td class="markdownTableBodyNone">Fast-DDS æ ¸å¿ƒåº“  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">fastddsgen</span>  </td><td class="markdownTableBodyNone">é€šè¿‡ IDL ç”Ÿæˆä»£ç çš„ Java å·¥å…·  </td></tr>
</table>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
1.2 å…‹éš† &amp; ç¼–è¯‘</h3>
<div class="fragment"><div class="line">git clone https://github.com/ZzzzzzS/DDS_Bridge.git</div>
<div class="line">cd DDS_Bridge</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -DBUILD_EXAMPLE=ON</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
1.3 è·‘ example</h3>
<p>ç¼–è¯‘åè¿è¡Œexampleå³å¯ï¼Œè¾“å‡ºç±»ä¼¼å¦‚ä¸‹</p>
<div class="fragment"><div class="line">.&quot;./DDS_Bridge/pose_example.exe&quot;</div>
<div class="line">Hello, Fast DDS!</div>
<div class="line">Received message: Hello from My Node Fast DDS!</div>
<div class="line">Received message: Hello from std node Fast DDS!</div>
<div class="line">Received message: Hello from My Node Fast DDS!</div>
<div class="line">Received message: Hello from std node Fast DDS!</div>
<div class="line">Received message: Hello from My Node Fast DDS!</div>
<div class="line">Received message: Hello from std node Fast DDS!</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
2. ç›®å½•ä¸€è§ˆ</h2>
<div class="fragment"><div class="line"> bash</div>
<div class="line">|DDS_Bridge</div>
<div class="line">â”‚   .gitignore</div>
<div class="line">â”‚   CMakeLists.txt</div>
<div class="line">â”‚   LICENSE</div>
<div class="line">â”‚   README.md</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€â”€example</div>
<div class="line">â”‚       example.cpp # æœ¬åœ°æ”¶å‘ç¤ºä¾‹æ–‡ä»¶</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€â”€msg # åœ¨è¿™é‡Œæ·»åŠ è‡ªå®šä¹‰çš„message type</div>
<div class="line">â”‚       geometry_msgs.idl</div>
<div class="line">â”‚       std_msgs.idl</div>
<div class="line">â”‚</div>
<div class="line">â””â”€â”€â”€src</div>
<div class="line">        node.hpp # nodeç±»å‹</div>
<div class="line">        publisher.hpp # publisherç±»å‹</div>
<div class="line">        subscriber.hpp # subscriberç±»å‹</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
3. å¼€å‘æ–°æ¶ˆæ¯</h2>
<ol type="1">
<li><p class="startli"><b>å†™ IDL</b> <br  />
 åœ¨msgæ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ–°idlæ–‡ä»¶,å¦‚<span class="tt">msg/robot_state.idl</span>. idlæ–‡ä»¶è¯­æ³•è¯·å‚é˜…<a href="https://fast-dds.docs.eprosima.com/en/latest/fastddsgen/dataTypes/dataTypes.html">å®˜æ–¹æ–‡æ¡£</a>.</p>
<div class="fragment"><div class="line">module myapp</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>Point { <span class="keywordtype">double</span> x; <span class="keywordtype">double</span> y; };</div>
<div class="line">    <span class="keyword">struct </span>RobotState { Point pos; <span class="keywordtype">double</span> yaw; };</div>
<div class="line">};</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>é‡æ–°ç¼–è¯‘</b></p>
<div class="fragment"><div class="line">cmake --build build</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>ä»£ç é‡Œç›´æ¥ç”¨</b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;robot_state.hpp&quot;</span> <span class="comment">//robot_state idläº§ç”Ÿçš„å¤´æ–‡ä»¶</span></div>
<div class="line"><span class="preprocessor">#include &quot;robot_statePubSubTypes.hpp&quot;</span> <span class="comment">//robot_state idläº§ç”Ÿçš„å¤´æ–‡ä»¶</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> node = std::make_shared&lt;Node&gt;(<span class="stringliteral">&quot;node&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> pub  = node-&gt;create_publisher&lt;myapp::RobotState&gt;(<span class="stringliteral">&quot;state&quot;</span>, 10);</div>
<div class="line"><span class="keyword">auto</span> sub  = node-&gt;create_subscription&lt;myapp::RobotState&gt;(</div>
<div class="line">    <span class="stringliteral">&quot;state&quot;</span>, 10,</div>
<div class="line">    [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; s){ std::cout &lt;&lt; s.pos().x() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>; });</div>
<div class="line"> </div>
<div class="line">myapp::RobotState st{};</div>
<div class="line">pub-&gt;publish(st);</div>
</div><!-- fragment --></li>
</ol>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
4. API é€ŸæŸ¥</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">ROS 2 ä¹ æƒ¯å†™æ³•  </th><th class="markdownTableHeadNone">fastdds_comm  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">create_publisher&lt;T&gt;</span>  </td><td class="markdownTableBodyNone">âœ… åŒä¸Š  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">create_subscription&lt;T&gt;</span>  </td><td class="markdownTableBodyNone">âœ… åŒä¸Š  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">QoS <span class="tt">depth</span> å‚æ•°  </td><td class="markdownTableBodyNone">å·²æ”¯æŒ  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">å›è°ƒç­¾å  </td><td class="markdownTableBodyNone"><span class="tt">void(const T&amp;)</span>  </td></tr>
</table>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
5. æ„å»ºé€‰é¡¹</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CMake å˜é‡  </th><th class="markdownTableHeadNone">é»˜è®¤å€¼  </th><th class="markdownTableHeadNone">è¯´æ˜  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">BUILD_EXAMPLE</span>  </td><td class="markdownTableBodyNone"><span class="tt">OFF</span>  </td><td class="markdownTableBodyNone">ç¼–è¯‘ç¤ºä¾‹  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">BUILD_DOC</span>  </td><td class="markdownTableBodyNone"><span class="tt">OFF</span>  </td><td class="markdownTableBodyNone">ç¼–è¯‘æ–‡æ¡£  </td></tr>
</table>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
6. æ€§èƒ½ &amp; é™åˆ¶</h2>
<ul>
<li><b>é›¶æ‹·è´</b> å‘å¸ƒï¼šç›´æ¥ <span class="tt">publish(msg&amp;)</span> <br  />
</li>
<li><b>å†…å­˜</b> æ¯ä¸ª topic ä¸€æ¡ <span class="tt">shared_ptr</span> <br  />
</li>
<li><b>çº¿ç¨‹</b> æ¯æ¡ participant 2-3 æ¡çº¿ç¨‹ï¼ˆä¸ ROS 2 ç›¸åŒï¼‰</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
7. è´¡çŒ® &amp; åè®®</h2>
<p>MIT Licenseï¼Œæ¬¢è¿ PRï¼ <br  />
 issue â†’ GitHub Discussionsã€‚</p>
<hr  />
<p> EOF </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">åˆ¶ä½œè€… <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
